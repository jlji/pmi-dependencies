# PMI dependencies from XLNet
## Getting PMI from XLNet 
see [this colab nootebook](https://colab.research.google.com/drive/1kJdXQpXhNbTqqdLatH_qfJCeuRD_9ggW#scrollTo=vCfdPAT2QNXd)

## Accuracy of XLNet PMI dependencies
[pmi-accuracy.py](pmi-accuracy/pmi-accuracy.py) gets pmi dependencies and calculates undirected attachment score. Run:
```bash
python pmi-accuracy/pmi-accuracy.py > out.txt
```
To get the accuracy score for each of the first few (default 20) sentences in the file (default `ptb3-wsj-data/ptb3-wsj-test.conllx`).  CLI options:

- `--batch-size`: the number n of sentences to use. It will calcuate UUAS for the first n sentences (default=`20`).
- `--model-size`: the XLNet pretrained weights to use: specify `xlnet-base-cased` or `xlnet-large-cased` (default=`xlnet-base-cased`)
- `--connlx-file`: the path to a dependency file (in (CONLL-X format)[https://ilk.uvt.nl/~emarsi/download/pubs/14964.pdf], such as generated by stanford CoreNLP's `trees.EnglishGrammaticalStructure`. See (convert_splits_to_depparse.sh)[scripts/convert_splits_to_depparse.sh]). (default=`ptb3-wsj-data/ptb3-wsj-test.conllx`),
- `--results-dir`: the root folder for results to be generated. A run of the script will generate a timestamped subfolder with results within this directory (default=`results/`)